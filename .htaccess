RewriteEngine On
RewriteBase /ControldeInventario/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Permitir acceso directo a archivos en /uploads (PDF, imágenes, etc.)
RewriteCond %{REQUEST_URI} ^/ControldeInventario/uploads/ [NC]
RewriteRule ^ - [L]
# Denegar acceso a archivos ocultos y de configuración
<FilesMatch "^\.">
    Require all denied
</FilesMatch>

# Bloquear acceso a archivos sensibles por extensión
<FilesMatch "\.(htaccess|env|ini|log|sh|sql|bak)$">
    Require all denied
</FilesMatch>

# Bloquear acceso directo a todos los .php excepto index.php
<Files ~ "^(?!index\.php$).+\.php$">
    Require all denied
</Files>

